#!/bin/bash
cat <<End-of-message
 ---------------------------------------------------------------
                 Easy Rooting toolkit (v16.0)
                    created by DooMLoRD
                    "pref_event exploit"
    Credits go to all those involved in making this possible!
 ---------------------------------------------------------------
   Special thanks to: the_laser, Bin4ry, fi01, hiikezoe, [NUT]
   and to all those who are contributing to our git tree!
        Sources: https://github.com/android-rooting-tools
 ---------------------------------------------------------------
  [*] This script will:
      (1) root ur device using the pref_event exploit
      (2) install Busybox
      (3) install SU files
  [*] Before u begin:
      (1) make sure u have installed adb drivers for ur device
      (2) enable "USB DEBUGGING"
            from (Menu\Settings\Developer Options)
      (3) enable "UNKNOWN SOURCES"
            from (Menu\Settings\Security)
      (4) connect USB cable to PHONE and then connect to PC
      (5) skip "PC Companion Software" prompt on device
 ---------------------------------------------------------------
  CONFIRM ALL THE ABOVE THEN
End-of-message

read -n1 -p "Start rooting? (yY/nN) "
echo -e "\n"
if [[ $REPLY != [yY] ]]; then
    echo "Exiting..."
    exit 1
fi

ADB="files/unix/adb"
[[ ! -x $ADB ]] && chmod +x $ADB # check and fix adb executable permission

echo "--- STARTING ----"
echo "--- WAITING FOR DEVICE"
$ADB wait-for-device
echo "--- creating temporary directory"
$ADB shell "cd /data/local && mkdir tmp"
echo "--- cleaning"
$ADB shell "cd /data/local/tmp/ && rm *"
echo "--- pushing files"
$ADB push files/doomed.sh /data/local/tmp/doomed.sh
$ADB push files/doomed2 /data/local/tmp/.
$ADB push files/run_root_shell /data/local/tmp/.
$ADB push files/busybox /data/local/tmp/.
$ADB push files/su /data/local/tmp/.
$ADB push files/Superuser.apk /data/local/tmp/.
$ADB shell chmod 777 /data/local/tmp/doomed.sh
$ADB shell /data/local/tmp/doomed.sh
echo "--- cleaning"
$ADB shell rm /data/local/tmp/*
echo "--- Please wait device is now rebooting"
$ADB reboot
echo "ALL DONE!!!"

read
